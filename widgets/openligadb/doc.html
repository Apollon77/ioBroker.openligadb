<html>
<head>
    <link rel="stylesheet" href="css/doc.css" />
    <title>Dokumentation OpenLigaDB Widgets</title>
</head>
<body>

<h2><a name="Attribute" ></a>Dokumentation OpenLigaDB Widgets</h2>

<h3>Besondere Funktionen</h3>
<h4>vis.binds["openligadb"].checkTodayFavorite(ObjectID,Favorites)</h4>
Javascript-Funktion zur Überprüfung, ob am heutigen Tag für ein oder mehrere Mannschaften ein Spiel statt findet.<br>
Diese Funktion kann über vis binding verwendet werden. Aufgrund der Anforderung des Bindings sind hier ein paar Dinge zu beachten.<br>
<br>
Diese Funktion kann im Binding bspw. wie folgt verwendet werden.<br>
Zum Test kann die folgende Notation in ein HTML-widget eingetragen werden. Als Ergebnis wird dann entweder ja oder nein ausgegeben,
je nachdem ob am heutigen Tag der Suchbegriff in den Mannschaftsnamen gefunden wurde.<br>
Alle Anführungszeichen (einfache und doppelte) müssen exakt so eingegeben werden.
<br><br>
<b><i>{a:oid1;vis.binds["openligadb"].checkTodayFavorite('oid_allmatches','clubsuche1,clubsuche2')?'ja':'nein'}</i></b><br>
<br>
<b>Bedeutung der Parameter</b><br>
<table>
<tr>
<td>oid</td><td>ein beliebiger Datenpunkt, der nur aufgrund der Notation des Bindings ausgewählt werden muss. Dieser Datenpunkt darf kein JSON zurückgeben.</td>
</tr>
<tr>
<td>oid_allmatches</td><td>Bezeichnung eines Datenpunktes allmatches der jeweiligen Liga/Saison.</td>
</tr>
<tr>
<td>clubsucheX</td><td>ein oder mehrere Bezeichnungen (können auch Teilbezeichnungen sein), mit Komma (,) getrennt. Bitte beachten.<br>Diese Feld entspricht in den Widgets dem Feldt highlight. Mehrere Suchbegriffe müssen hier nur mit Komma getrennt werden und nicht mit Semikolon wie in den Widgets.</td>
</tr>
</table>
<br>


<h3><a name="tplOLiDBTable2" ></a>League Table</h3>
<img src="img/table.png"/><br>
Das ist die klassische Tabellenansicht. Die Tabelle enthält verschiedene Spalten.<br>
Sp=Anzahl gespielter Spiele, S=Siege, U=Unentschieden, N=Niederlagen, Tore=Torverhältnis, Punkte=Punktestand<br>
<h4>Attribute</h4>
<h5>Attribute Object ID</h5>
Hier muss ein Datenpunkt mit der Bezeichnung allmatches (Achtung im alten widget musste hier noch table ausgewählt werden) ausgewählt werden.
Dieser Datenpunkt wird nach dem Anlegen der Liga/Season in der Konfiguration erzeugt, falls die Angaben gültig sind.
Der Datenpunkt enthält alle Spieldaten einer Liga/Season im JSON-Format. Aus diesen Daten wird dann auf Basis des Modus die 
Tabellen für Gesamt(1total), Heim (2home) oder Auswärts (3away) berechnet.
<h5>Attribute mode</h5>
Auswahl in welchem Modus die Tabelle angezeigt werden soll zur Auswahl steht Gesamt(1total), Heim (2home) oder Auswärts (3away).
<h5>Attribute maxicon</h5>
Maximale Größe des Manschaftsicons in x oder y-Richtung.
<h5>Attribute shortname</h5>
Anstatt des Manschaftsnamens wird der Kurzname angezeigt, falls dieser in den vorliegenden Daten gepflegt wurde.
<h5>Attribute highlight</h5>
Hier können ein oder mehrere Begriffe mit Semikolon (;) getrennt eingegeben werden die hervorgehoben werden sollen.
Die Suche erfolgt nur in den Mannschaftsnamen. Der jeweilige Namen wird mit HTML-Tags &lt;b&gt; eingefasst.
Eine detailliertere Formatierung kann über die css-Klasse "favorite" erfolgen.
<br><br>

<h3><a name="tplOLiDBTable" ></a>League Table</h3>
<img src="img/table.png"/><br>
Dieses Widget wird gelöscht. Bitte nur noch Table 2 benutzen
<br><br>

<h3><a name="tplOLiDBGameDay" ></a>Games of Gameday</h3>
<img src="img/gameday.png"/><br>

<h4>Attribute</h4>
<h5>Attribute allmatches</h5>
Hier muss ein Datenpunkt mit der Bezeichnung allmatches ausgewählt werden.
Dieser Datenpunkt wird nach dem Anlegen der Liga/Season in der Konfiguration erzeugt, falls die Angaben gültig sind.
Der Datenpunkt enthält alle Spiele und Ergebnisse einer Liga/Season im JSON-Format
Wenn der Spieltag am heutigen Tag statt findet, dann wird das Datum (todaygameheader) und das jeweilige Spiel (todaygame) mit CSS-Klassen versehen.
<h5>Attribute currgameday</h5>
Hier ist ein Datenpunk zu wählen, der mit currgameday benannt ist.
Dieser Datenpunkt wird nach dem Anlegen der Liga/Season in der Konfiguration erzeugt, falls die Angaben gültig sind.
Der Wert wird im Adapter auf Basis des aktuellen Datums berechnet. Der aktuelle Spieltag wechselt zur Hälfte der Zeit 
zwischen dem letzten Spielt der vorherigen Spieltags und dem ersten Spiel des folgenden Spieltages.
<h5>Attribute showgameday</h5>
Wenn dieses Feld leer bleibt, wird immer der aktuelle Spieltag angezeigt.<br>
Trägt man eine positive Zahl ein, dann wird, falls vorhanden, der ausgewählte Spieltag angezeigt.<br>
Trägt man eine negative Zahl ein, dann wird relativ vom aktuellen Spieltag dieser angezeigt (bspw -1 entspricht dem vorherigen Spieltag)<br>
ggfs. kann dieses Feld auch über vis-binding berechnet und gefüllt werden.<br>
Beispiele für relativ berechneten Spieltag:<br>
<b>Vorheriger Spieltag</b><br>      <b><i>{a:openligadb.0.bl1.2019.currgameday;a-1}</i></b> oder<br>
<b>Nachfolgender Spieltag</b><br>   <b><i>{a:openligadb.0.bl1.2019.currgameday;a+1}</i></b><br>
Da das Binding nicht im vis editmode berechnet wird, wird bei Verwendung von Binding im editmode immer der aktuelle Spieltag angezeigt.<br>
<h5>Attribute showgamedaycount</h5>
Üblicherweise bleibt dieses Feld leer oder enthält 1.<br>
Dadurch wird genau ein Spieltag angezeigt.<br>
Wird hier eine andere Zahl eingegeben, dann wird diese Anzahl von Spieltagen, ausgehend von der 'Einstellung in showgameday angezeigt.<br>
<h5>Attribute maxicon</h5>
Maximale Größe des Manschaftsicons in x oder y-Richtung.
<h5>Attribute shortname</h5>
Anstatt des Manschaftsnamens wird der Kurzname angezeigt, falls dieser in den vorliegenden Daten gepflegt wurde.
<h5>Attribute showgoals</h5>
Informationen zu den Torschützen wird angezeigt.
<h5>Attribute showweekday</h5>
Zeigt vor dem Datum wahlweise den Wochentag an.
<h5>Attribute highlight</h5>
Hier können ein oder mehrere Begriffe mit Semicolon (;) getrennt eingegeben werden, die hervorgehoben werden sollen.
Die Suche erfolgt nur in den Mannschaftsnamen. Der jeweilige Namen wird mit HTML-Tags &lt;b&gt; eingefasst.
Eine detailliertere Formatierung kann über die css-Klasse "favorite" erfolgen.
<br><br>
<h3><a name="tplOLiDBFavGames" ></a>Games of favorite clubs</h3>
<img src="img/favgames.png"/><br>
Dieses Widget wird gelöscht. Bitte nur noch Games of favorite clubs 2 benutzen
<br><br>

<h3><a name="tplOLiDBFavGames2" ></a>Games of favorite clubs 2</h3>
<img src="img/favgames.png"/><br>
Diese Widget zeigt die nächsten Spiele deiner Lieblingsmannschaften aus ein oder mehrerer Ligen an.
Durch die Auswahl der Anzahl der anzuzeigenden Ligen, wird für jede Liga eine separate Konfigurationsgruppe angezeigt, 
in der die folgenden Einstellungen vorgenommen werden können.
Wenn das Spiel am heutigen Tag statt findet, dann wird das jeweilige Spiel (todaygame) mit CSS-Klassen versehen.
<b>Beispiel</b><br><br>
.todaygame {<br>
    color:red;<br>
}<br>
.todaygameheader {<br>
    color: yellow;<br>
}<br>
<br>
<h4>Attribute</h4>
<h5>Attribute Anzahl Liga - Gruppe Allgemein</h5>
Hier kann die Anzahl der abzufragenden Ligen eingetragen werden. Für jede Liga wird ein separate Konfigurationsgruppe angezeigt.
<h5>Attribute maxicon - Gruppe Allgemein</h5>
Maximale Größe des Manschaftsicons in x oder y-Richtung.
<h5>Attribute showresult - Gruppe Allgemein</h5>
Auswahl, ob die Spielergebnisse, sofern bekannt, angezeigt werden sollen
<h5>Attribute showabbreviation - Gruppe Allgemein</h5>
Um die Spiele der einzelnen Ligen unterscheiden zu können, kann man eine eigene Kürzung in der jeweiligen Konfiguration eintragen. 
Hier kann ausgewählt werden, ob diese angezeigt werden soll.
<h5>Attribute showweekday - Gruppe Allgemein</h5>
Zeigt vor dem Datum wahlweise den Wochentag an.

<h5>Attribute allmatches - Gruppe Liga</h5>
Hier muss ein Datenpunkt mit der Bezeichnung allmatches ausgewählt werden.
Dieser Datenpunkt wird nach dem Anlegen der Liga/Season in der Konfiguration erzeugt, falls die Angaben gültig sind.
Der Datenpunkt enthält alle Spiele und Ergebnisse einer Liga/Season im JSON-Format
<h5>Attribute currgameday - Gruppe Liga</h5>
Hier muss ein Datenpunkt mit der Bezeichnung currgameday ausgewählt werden.
Dieser Datenpunkt wird nach dem Anlegen der Liga/Season in der Konfiguration erzeugt, falls die Angaben gültig sind.
Der Wert wird im Adapter auf Basis des aktuellen Datums berechnet. Der aktuelle Spieltag wechselt zur Hälfte der Zeit 
zwischen dem letzten Spielt der vorherigen Spieltags und dem ersten Spiel des folgenden Spieltages.
<h5>Attribute showgameday - Gruppe Liga</h5>
Wenn dieses Feld leer bleibt, wird immer vom aktuelle Spieltag ausgegangen.<br>
Trägt man eine positive Zahl ein, dann wird, falls vorhanden, vom ausgewählte Spieltag ausgegangen.<br>
Trägt man eine negative Zahl ein, dann wird relativ vom aktuellen Spieltag ausgegangen (bspw -1 entspricht dem vorherigen Spieltag)<br>
ggfs. kann dieses Feld auch über vis-binding berechnet und gefüllt werden.<br>
Beispiele für einen relativ berechneten Spieltag:<br>
<b>Vorheriger Spieltag</b><br>      <b><i>{a:openligadb.0.bl1.2019.currgameday;a-1}</i></b> oder<br>
<b>Nachfolgender Spieltag</b><br>   <b><i>{a:openligadb.0.bl1.2019.currgameday;a+1}</i></b><br>
Da das Binding nicht im vis editmode berechnet wird, wird bei Verwendung von Binding im editmode immer der aktuelle Spieltag angezeigt.<br>
<h5>Attribute showgamedaycount - Gruppe Liga</h5>
Hier kann angegeben werden für wie viele Spieltage die Spiele angezeigt werden sollen.
Wenn das Feld leer bleibt, dann werden alle restlichen Spieltage angezeigt (max 9999 Spieltage)
Wird hier eine andere Zahl angezeigt, dann werden alle Spiele für diese Anzahl von Spieltagen, ausgehend von der 'Einstellung in showgameday angezeigt.<br>
<h5>Attribute shortname - Gruppe Liga</h5>
Anstatt des Manschaftsnamens wird der Kurzname angezeigt, falls dieser in den vorliegenden Daten gepflegt wurde.
<h5>Attribute abbreviation - Gruppe Liga</h5>
Abkürzung die für diese Liga angezeigt werden soll, sofern showabbreviation ausgewählt wurde.
<h5>Attribute highlight - Gruppe Liga</h5>
Hier können ein oder mehrere Begriffe mit Semicolon (;) getrennt eingegeben werden, um die Lieblingsmanschaften zu finden.
Die Suche erfolgt nur in den Mannschaftsnamen. Eine besondere Hervorhebung wie bei den anderen Widgets gibt es hier nicht.
<br><br>

</body>
</html>
